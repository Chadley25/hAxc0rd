module.exports = {
    name: "gobuster",
    category: "exploit",
    description: "",
    run: async (client, message, args) => {
        const { exec } = require('child_process');
        const Discord = require('discord.js');
        let arguments = message.toString().slice((message.content).substr(0,message.content.indexOf(' ')).length + 1);
        
        if (args[0] == "help") {
            // displays information about the tool being used
            const richembed = new Discord.RichEmbed()
                .setColor('#f01d0e')
                .setTitle('Nikto - Help')
                .addField('Description', "Nikto is a free software command-line vulnerability scanner than scans webservesr for dengerious files/CGIs, outdated software, and other problems.")
                .addField('Arguments', "[-h] ~ displays the help menu for Nikto")
                .addField('More Information', 'https://github.com/sullo/nikto')    
            message.channel.send(richembed);
        } else {
            // executes the "dig" commands on the local system that the bot is hosted on
            // along with any arguments entered using the child_process API
            console.log("hi");
            var child = exec('gobuster -u https://www.uat.edu -w directory-list-2.3-small.txt');
            child.stdout.on('data', function(data) {
                message.channel.send('stdout: ' + data);
            });
            child.on('close', function(code) {
                message.channel.send('closing code: ' + code);
            });
        }
    }
}